{"version":3,"file":"static/webpack/static\\development\\pages\\articles.js.c6187334a3ba9aacd131.hot-update.js","sources":["webpack:///./pages/articles.js"],"sourcesContent":["import React from 'react';\r\nimport {withRouter} from 'next/router';\r\nimport ResponsiveDrawer from '../components/ResponsiveDrawer';\r\nimport {\r\n    Grid,\r\n    Paper,\r\n    Typography,\r\n    Button,\r\n    Divider,\r\n} from '@material-ui/core';\r\nimport NPS_Query from '../components/NPS_Query';\r\nimport fetch from 'isomorphic-unfetch';\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport '../static/default.css';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root:{\r\n        flexGrow: 1,\r\n    },\r\n    paper:{\r\n        padding: theme.spacing(2),\r\n    },\r\n    toolbar: theme.mixins.toolbar,\r\n    drawerPaper: {\r\n        width: drawerWidth,\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        padding: theme.spacing(3),\r\n    },\r\n    grid: {\r\n        [theme.breakpoints.up('xs')]: {\r\n            paddingLeft: theme.spacing(0),\r\n        },\r\n        [theme.breakpoints.up('sm')]: {\r\n            paddingLeft: theme.spacing(30),\r\n        },\r\n    },\r\n    button: {\r\n        margin: theme.spacing(1),\r\n    },\r\n    image: {\r\n        width: \"100%\",\r\n        position: \"relative\",\r\n    },\r\n    p: {\r\n        backgroundColor: \"#eaeaea\",\r\n    },\r\n}));\r\n\r\nfunction CenteredGrid({articles}){\r\n    const classes = useStyles();\r\n\r\n    return(\r\n        <main className={classes.content}>\r\n            <div className={classes.toolbar}/>\r\n            <Grid container spacing={3} className={classes.grid}>\r\n                {articles.map((articleObj, index) => (\r\n\r\n                    <Grid item xs={12} md={6}>\r\n                        <Paper className={classes.p}>\r\n                        {/*<div className={classes.p}>*/}\r\n                            <Typography color=\"textPrimary\" variant=\"h3\">\r\n                                {articleObj.title}\r\n                            </Typography>\r\n                            <Divider/><br/>\r\n                            <div id=\"trim\">\r\n                            {(articleObj.listingimage.url.length > 0) ? <img className={classes.image} src={articleObj.listingimage.url}/> : <div/>}\r\n                            </div>\r\n                            {(articleObj.listingimage.url.length > 0) ? <br/> : <div/>}\r\n                            <Typography paragraph >\r\n                                {articleObj.listingdescription}\r\n                            </Typography>\r\n                            {(articleObj.url.length > 0) ? <Button href={articleObj.url} color=\"primary\">Read More</Button> : <div/>}\r\n\r\n                            <Divider/>\r\n                        {/*</div>*/}\r\n                        </Paper>\r\n                    </Grid>\r\n                ))}\r\n                {(articles.length === 0) ?\r\n                    <Grid item xs>\r\n                        <Paper className={classes.paper}>\r\n                            <Typography color=\"textPrimary\" variant=\"h4\">\r\n                                No Articles Found\r\n                            </Typography>\r\n                        </Paper>\r\n                    </Grid> : <div/>}\r\n            </Grid>\r\n        </main>\r\n    )\r\n}\r\n\r\nconst Details = withRouter( props => (\r\n    <div style={{\r\n        root:{\r\n            flexGrow: 1,\r\n        },\r\n    }}>\r\n        <ResponsiveDrawer name={props.parks.data[0].fullName + \" Articles\"} park={props.router.query.objectId}/>\r\n        <CenteredGrid articles={props.articles.data}/>\r\n    </div>\r\n));\r\n\r\nDetails.getInitialProps = async function(context) {\r\n    const {objectId} = context.query;\r\n    const res = await fetch(NPS_Query(\"parks\", objectId));\r\n    const parks = await res.json();\r\n\r\n    const res2 = await fetch(NPS_Query(\"articles\", objectId));\r\n    const articles = await res2.json();\r\n\r\n    console.log(`Fetched ${parks.data[0].fullName}`);\r\n\r\n    return {parks, articles};\r\n};\r\n\r\nexport default Details;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AACA;AADA;AACA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AAEA;AADA;AAIA;AADA;AAIA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AACA;AADA;AA9BA;AAAA;AACA;AAkCA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAGA;AAAA;AAAA;AAhBA;AAwBA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAQA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AADA;AAAA;AAKA;AAAA;AAAA;AACA;AAAA;AAPA;AACA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AAHA;AAAA;AACA;AADA;AAKA;AALA;AAAA;AACA;AADA;AAMA;AAEA;AARA;AAUA;AAAA;AAAA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAYA;;;;A","sourceRoot":""}