{"version":3,"file":"static/webpack/static\\development\\pages\\alerts.js.286c7c2dbf4d1f4e2c21.hot-update.js","sources":["webpack:///./pages/alerts.js"],"sourcesContent":["import React from 'react';\r\nimport {withRouter} from 'next/router';\r\nimport ResponsiveDrawer from '../components/ResponsiveDrawer';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport NPS_Query from '../components/NPS_Query';\r\nimport fetch from 'isomorphic-unfetch';\r\nimport {makeStyles} from \"@material-ui/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root:{\r\n        flexGrow: 1,\r\n    },\r\n    paper:{\r\n        padding: theme.spacing(2),\r\n        textAlign: 'left',\r\n        textEmphasis: ''\r\n    },\r\n}));\r\n\r\nfunction CenteredGrid(alerts){\r\n    const classes = useStyles();\r\n\r\n    return(\r\n        <div className={classes.root}>\r\n            <Grid container spacing={3}>\r\n                {alerts.map((alertObj) => (\r\n                    <Grid item xs={6}>\r\n                        <Paper className={classes.paper}>\r\n                            <Typography color=\"textPrimary\" variant=\"h3\">\r\n                                {alertObj.title}\r\n                            </Typography>\r\n                        </Paper>\r\n                    </Grid>\r\n                ))}\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Alerts = withRouter( props => (\r\n    <div>\r\n        <ResponsiveDrawer name={props.parks.data[0].fullName + \" Alerts\"} park={props.router.query.objectId}/>\r\n        <CenteredGrid alerts={props.alerts.data}/>\r\n    </div>\r\n));\r\n\r\nAlerts.getInitialProps = async function(context) {\r\n    const {objectId} = context.query;\r\n    const res = await fetch(NPS_Query(\"parks\", objectId));\r\n    const parks = await res.json();\r\n\r\n    const res2 = await fetch(NPS_Query(\"alerts\", objectId));\r\n    const alerts = await res2.json();\r\n\r\n    console.log(`Fetched ${parks.data[0].fullName}`);\r\n\r\n    return {parks, alerts};\r\n};\r\n\r\nexport default Alerts;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAHA;AAJA;AAAA;AACA;AAUA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAHA;AAYA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAHA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AAHA;AAAA;AACA;AADA;AAKA;AALA;AAAA;AACA;AADA;AAMA;AAEA;AARA;AAUA;AAAA;AAAA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAYA;;;;A","sourceRoot":""}