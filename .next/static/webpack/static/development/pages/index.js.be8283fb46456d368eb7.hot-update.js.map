{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.be8283fb46456d368eb7.hot-update.js","sources":["webpack:///./components/AppBar.js","webpack:///./components/CustomButton.js","webpack:///./components/Hit.js"],"sourcesContent":["import React from 'react';\r\nimport {\r\n    AppBar,\r\n    Toolbar,\r\n    Typography,\r\n    InputBase\r\n} from \"@material-ui/core\";\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {connectSearchBox} from 'react-instantsearch-dom';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n        display: 'none',\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'block',\r\n            fontSize: 20,\r\n        },\r\n        [theme.breakpoints.up('lg')]: {\r\n            fontSize: 40,\r\n        },\r\n    },\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        backgroundColor: fade(theme.palette.common.white, 0.15),\r\n        '&:hover': {\r\n            backgroundColor: fade(theme.palette.common.white, 0.25),\r\n        },\r\n        marginLeft: 0,\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing(1),\r\n            width: 'auto',\r\n        },\r\n    },\r\n    searchIcon: {\r\n        width: theme.spacing(7),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n        color: 'inherit',\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 7),\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: 400,\r\n            '&:focus':{\r\n                width: 470,\r\n            },\r\n            fontSize: 20,\r\n        },\r\n        [theme.breakpoints.up('lg')]: {\r\n            width: 600,\r\n            '&:focus': {\r\n                width: 800,\r\n            },\r\n            fontSize: 30,\r\n        },\r\n    }\r\n}));\r\n\r\nfunction SearchBox({currentRefinement, refine}){\r\n    const classes = useStyles();\r\n    return(\r\n        <InputBase\r\n            type=\"search\"\r\n            value={currentRefinement}\r\n            onChange={event => refine(event.currentTarget.value)}\r\n            placeholder=\"Search by state, park name, keywords...\"\r\n            classes = {{\r\n                root: classes.inputRoot,\r\n                input: classes.inputInput,\r\n            }}\r\n        />\r\n    )\r\n}\r\n\r\nconst CustomSearchBox = connectSearchBox(SearchBox);\r\n\r\nfunction SearchAppBar() {\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.root}>\r\n            <AppBar position=\"static\" style={{backgroundColor: \"#0096db\"}}>\r\n                <Toolbar>\r\n                    <Typography className={classes.title} variant=\"h6\" noWrap>\r\n                        National Park Search\r\n                    </Typography>\r\n                    <div className={classes.search}>\r\n                        <div className={classes.searchIcon}>\r\n                            <SearchIcon />\r\n                        </div>\r\n                        <CustomSearchBox/>\r\n                    </div>\r\n                </Toolbar>\r\n            </AppBar>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SearchAppBar;\r\n","import React from 'react';\r\nimport {\r\n    Button,\r\n    Fade,\r\n    LinearProgress,\r\n} from \"@material-ui/core\";\r\nimport LocationIcon from '@material-ui/icons/LocationSearchingOutlined';\r\nimport searchClient from '../components/SearchClient';\r\n\r\nconst index = searchClient.initIndex(\"Parks\");\r\n\r\nclass ButtonComponent extends React.Component{\r\n    state = {\r\n        loading: false,\r\n        userlat: null,\r\n        userlong: null,\r\n        parkData: null,\r\n    };\r\n    render(){\r\n        const loading = this.state.loading;\r\n        return(\r\n            <div>\r\n                <Button color=\"secondary\" variant=\"contained\" size=\"large\" onClick={this.handleSubmit} style={{\r\n                    width: \"100%\",\r\n                    fontSize: 30,\r\n                    color: \"#FFFFFF\"\r\n                }}>\r\n                    Find the nearest point of interest\r\n                    <LocationIcon style={{\r\n                        paddingLeft: '10px',\r\n                    }} />\r\n                </Button>\r\n                <Fade in={loading}>\r\n                    <LinearProgress/>\r\n                </Fade>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    showPosition = (position) => {\r\n        this.setState(state => ({\r\n            userlat: position.coords.latitude,\r\n            userlong: position.coords.longitude,\r\n        }));\r\n        this.handleSubmit();\r\n    };\r\n\r\n    showError = (err) => {\r\n        console.warn('error');\r\n    };\r\n\r\n    getLocation = () => {\r\n        if(navigator.geolocation){\r\n            navigator.geolocation.getCurrentPosition(this.showPosition);\r\n        }\r\n        else {\r\n            alert(\"Geolocation isn't supported by device hardware.\");\r\n        }\r\n    };\r\n\r\n    indexData = () => {\r\n        const browser = index.browseAll(\"\", {\r\n            attributesToRetrieve:[\r\n                'latLong',\r\n                'parkCode',\r\n            ]\r\n        });\r\n        let hits = [];\r\n\r\n        browser.on('result', content => {\r\n            hits = hits.concat(content.hits);\r\n            this.state.parkData = hits;\r\n            this.handleSubmit();\r\n        });\r\n\r\n        browser.on('end', () => {\r\n            console.log(`${hits.length} total responses.`);\r\n        });\r\n\r\n        browser.on('error', err => {\r\n            throw err;\r\n        });\r\n    };\r\n\r\n    calculateDistance = (coords) => {\r\n        return coords.length > 1 ? Math.sqrt(Math.pow(coords[1] - this.state.userlong, 2) + Math.pow(coords[0] - this.state.userlat, 2)) : 360;\r\n    };\r\n\r\n    handleSubmit = () => {\r\n        this.setState(state => ({\r\n            loading: true\r\n        }));\r\n        if(this.state.userlat == null || this.state.userlong == null){\r\n            this.getLocation();\r\n            return false;\r\n        }\r\n        console.log(this.state.userlat);\r\n        console.log(this.state.userlong);\r\n        if(this.state.parkData == null){\r\n            this.indexData();\r\n            return false;\r\n        }\r\n        console.log(this.state.parkData);\r\n        var nearestPOI = {\r\n            parkCode: null,\r\n            distance: 360.0\r\n        };\r\n        for (var i = 0; i < this.state.parkData.length; i++){\r\n            const parkCoords = this.state.parkData[i].latLong.replace(/[^\\d.,-]/g, '').split(\",\").map(Number);\r\n            const parkDistance = this.calculateDistance(parkCoords);\r\n            if (parkDistance < nearestPOI.distance){\r\n                nearestPOI.parkCode = this.state.parkData[i].parkCode;\r\n                nearestPOI.distance = parkDistance;\r\n            }\r\n        }\r\n        console.log(nearestPOI.parkCode);\r\n        window.location.href = \"/details?objectId=\" + nearestPOI.parkCode;\r\n    }\r\n}\r\n\r\nexport default ButtonComponent;","import React from 'react';\r\nimport {Highlight} from \"react-instantsearch-dom\";\r\nimport {\r\n    Card,\r\n    Typography,\r\n    Paper,\r\n    Button,\r\n} from \"@material-ui/core\";\r\nimport InputIcon from '@material-ui/icons/InputRounded';\r\nimport Link from 'next/link';\r\nimport {makeStyles} from \"@material-ui/styles\";\r\nimport '../static/default.css';\r\n\r\nconst useStyles = makeStyles(theme =>({\r\n    root: {\r\n        background: 'linear-gradient(45deg, #4496DB 30%, #5df78e 90%)',\r\n        border: 0,\r\n        fontSize: 16,\r\n        borderRadius: 3,\r\n        boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\r\n        color: 'white',\r\n        height: 48,\r\n        width: \"100%\",\r\n        padding: '0 30px',\r\n    },\r\n    card: {\r\n        minWidth: 275,\r\n    },\r\n    bullet: {\r\n        display: 'inline-block',\r\n        margin: '0 2px',\r\n        transform: 'scale(0.8)',\r\n    },\r\n    button: {\r\n        margin: theme.spacing(1),\r\n    },\r\n    rightIcon: {\r\n        marginLeft: theme.spacing(2),\r\n    },\r\n    pos: {\r\n        marginBottom: 12,\r\n    },\r\n}));\r\n\r\n// function indexSearch(objId){\r\n//     return new Promise((resolve, reject) => {\r\n//         index.getObject(objId, ['fullName'], (err, content) => {\r\n//             if (content != null){\r\n//                 resolve(content.fullName);\r\n//             }\r\n//             else{\r\n//                 reject(Error());\r\n//             }\r\n//         });\r\n//     });\r\n// }\r\n\r\nfunction NewButton({name, parkCode, redirectId}){\r\n    const classes = useStyles();\r\n    // const [someVar, setSomeVar] = useState(null);\r\n    // useEffect(() => {\r\n    //     indexSearch(redirectId).then(result => {\r\n    //         setSomeVar(result);\r\n    //     })\r\n    // }, []);\r\n    // if(!someVar){\r\n    //     return null;\r\n    // }\r\n    return(\r\n        <Link as={`/${parkCode}/details`} href={`/details?objectId=${parkCode}`}>\r\n            <a id=\"hitbox\" href={`/details/${parkCode}`}>\r\n                <Button color=\"primary\" className={classes.button} variant=\"contained\">\r\n                    {`Learn more about ${name}`}\r\n                    <InputIcon className={classes.button}/>\r\n                </Button>\r\n            </a>\r\n        </Link>\r\n    )\r\n}\r\n\r\nclass Hit extends React.Component{\r\n\r\n    render() {\r\n        const props = this.props;\r\n        const {hit} = this.props;\r\n        return(\r\n            <Card>\r\n                <Paper id=\"paper\" square>\r\n                    <Typography color=\"textPrimary\" variant=\"h3\">\r\n                        <Highlight className=\"ais-Highlight-header\" attribute=\"fullName\" hit={props.hit}/>\r\n                        <Highlight className=\"ais-Highlight-state\" attribute=\"states\" hit={props.hit}/>\r\n                    </Typography>\r\n                </Paper>\r\n                <Paper id=\"paper\" square>\r\n                    <Typography color=\"textSecondary\">\r\n                        <Highlight className=\"ais-Highlight-details\" attribute=\"description\" hit={props.hit}/>\r\n                    </Typography>\r\n                    <NewButton name={hit.fullName} parkCode={hit.parkCode} redirectId={props.hit.objectID}/>\r\n                </Paper>\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Hit;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAMA;AACA;AACA;AACA;AAEA;AAAA;AACA;AADA;AACA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AACA;AAFA;AAKA;AADA;AAIA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AARA;AAUA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AADA;AAGA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AADA;AAGA;AALA;AAQA;AACA;AACA;AADA;AAGA;AALA;AAvDA;AAAA;AACA;AAgEA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AALA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AASA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpHA;AACA;AAKA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AA0BA;AACA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAMA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AACA;AAGA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;AApGA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AAMA;AACA;AADA;AAAA;AAIA;AAAA;AAKA;;;;AA1BA;AACA;AA4GA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxHA;AACA;AACA;AAMA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAWA;AACA;AADA;AAGA;AACA;AACA;AACA;AAHA;AAKA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AADA;AA1BA;AAAA;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAKA;AACA;AACA;;;;;;;;;;;;;AAEA;AACA;AADA;AAGA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAIA;;;;AArBA;AACA;AAuBA;;;;;;;A","sourceRoot":""}